# FreeBSDでトラフィック状況を監視する

### `iftop`：
ネットワークインターフェースごとのリアルタイムなトラフィック量を表示します。インストールされていない場合は、pkg install iftopでインストールできます。
### `ipfw show`：
ipfwをファイアウォールとして使っている場合、ルールごとのパケットとバイト数を表示します。トラフィックの流れを把握するのに役立ちます。
### `netstat -i`：
インターフェースごとのトラフィック統計を表示します。簡易的なトラフィック状況の確認に便利です。
### `systat -ifstat`：
リアルタイムのインターフェース統計を表示するシステムモニタリングツールです。インターフェースごとのパケット数やバイト数を確認できます。
### `tcpdump`：
パケットキャプチャツールで、特定のトラフィックやパケット内容を監視できます。tcpdump -i <インターフェース名>で開始し、必要に応じてフィルタリングも可能です。
### `ntopng`：
より詳細でグラフィカルなトラフィック監視ができるツールです。`pkg install ntopng`でインストール後、ブラウザからアクセスしてトラフィック分析が可能です。ntopngでは、ネットワークのトラフィックデータを`Redis`に保存して処理するため、Redisがバックエンドとして必要になります。このトラフィックデータをキャッシュに保持することで、ntopngはネットワーク解析を効率よく行えます。
以上のコマンドを組み合わせて使用することで、FreeBSDルータのトラフィックを詳細に監視できるようになります。


## FreeBSDでCPUの使用率を確認
### `top`：
CPU、メモリ使用率、各プロセスの詳細情報などをリアルタイムで表示します。シンプルかつ強力なシステムモニタリングツールです。
### `htop`：
htopはtopの改良版で、インタラクティブなインターフェースでCPUコアごとの使用率を確認できます。pkg install htopでインストールできます。
### `vmstat`：
システムのパフォーマンスを監視するツールで、CPU、メモリ、I/Oなどの統計情報を提供します。たとえば、vmstat 1で1秒ごとのCPU使用率の推移が確認できます。
### `iostat`：
CPUとディスクのI/O使用率を表示します。iostat 1で1秒ごとのCPU使用率を確認できます。

### `systat -vmstat`：
systatコマンドの一部で、CPU、メモリ、ディスク、ネットワークなどの統計情報をリアルタイムで表示します。CPU使用率の監視に便利です。
これらのツールを使ってCPUの使用状況を定期的に確認することで、システムの負荷やリソースの消費状況を把握できます。

